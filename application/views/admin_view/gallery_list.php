  <div class="content-wrapper">    <!-- Content Header (Page header) -->    <!-- Main content -->    <section class="content">      <br>      <br>      <div class="row">        <div class="col-md-6 col-lg-12">          <div class="box">            <div class="box-header with-border">              <h3 class="box-title">Slider List</h3>                          </div>            <!-- /.box-header -->            <div class="box-body table-responsive">              <table id="table_gallery" class="table table-bordered table-striped dataTable" cellspacing="0" width="100%">                    <thead>                         <tr>                              <th style="width:250px;">Title Gallery</th>                              <th>Description </th>                              <th>View </th>                              <th style="width:80px;">Action</th>                              </tr>                    </thead>                    <tbody>                    </tbody>              </table>            </div>            <!-- /.box-body -->          </div>        </div>      </div>    </section>  </div>  <!-- /.content-wrapper --><!-- Bootstrap modal --><div class="modal fade" id="modal_form" role="dialog">    <div class="modal-dialog">        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>                <h3 class="modal-title"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Gallery</h3>            </div>            <div class="modal-body form">                <form action="#" id="form" class="form-horizontal">                    <input type="hidden" value="" name="id_gallery"/>                     <div class="form-body">                        <div class="form-group">                            <label class="control-label col-md-3">Title Gallery</label>                            <div class="col-md-9">                                <input name="title_gallery" placeholder="First Name" class="form-control" type="text">                                <span class="help-block"></span>                            </div>                        </div>                        <div class="form-group">                            <label class="control-label col-md-3">Description</label>                            <div class="col-md-9">                                <input name="description" placeholder="Last Name" class="form-control" type="text">                                <span class="help-block"></span>                            </div>                        </div>                        <div class="form-group" id="photo-preview">                            <label class="control-label col-md-3">Photo</label>                            <div class="col-md-9">                                (No photo)                                <span class="help-block"></span>                            </div>                        </div>                        <div class="form-group">                            <label class="control-label col-md-3" id="label-photo">Upload Photo </label>                            <div class="col-md-9">                                <input name="image_name" type="file">                                <span class="help-block"></span>                                <p>ukuran file harus 1140 px x 600 px</p>                            </div>                        </div>                    </div>                </form>            </div>            <div class="modal-footer">                <button type="button" id="btnSave" onclick="save()" class="btn btn-primary">Save</button>                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>            </div>        </div><!-- /.modal-content -->    </div><!-- /.modal-dialog --></div><!-- /.modal --><!-- End Bootstrap modal --><script src="<?php echo base_url();?>assets/plugins/jQuery/jquery-2.2.3.min.js"></script><!-- Bootstrap 3.3.6 --><script src="<?php echo base_url()?>assets/plugins/datatables/jquery.dataTables.min.js"></script><script src="<?php echo base_url()?>assets/plugins/datatables/dataTables.bootstrap.min.js"></script><script src='https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap.min.js'></script><script type="text/javascript">var save_method; //for save method stringvar table;var base_url = '<?php echo base_url();?>';$(document).ready(function() {    //datatables    table = $('#table_gallery').DataTable({         responsive: true,        "processing": true, //Feature control the processing indicator.        "serverSide": true, //Feature control DataTables' server-side processing mode.        "order": [],        // Load data for the table's content from an Ajax source        "ajax": {            url: "<?php echo base_url("admin/list_gallery");?>",            type: "POST"        },    });} );function edit_gallery(id){    save_method = 'update';    $('#form')[0].reset(); // reset form on modals    $('.form-group').removeClass('has-error'); // clear error class    $('.help-block').empty(); // clear error string    //Ajax Load data from ajax    $.ajax({        url : "<?php echo site_url('admin/gallery_edit')?>/" + id,        type: "GET",        dataType: "JSON",        success: function(data)        {            $('[name="id_gallery"]').val(data.id_gallery);            $('[name="title_gallery"]').val(data.title_gallery);            $('[name="description"]').val(data.description);            $('#modal_form').modal('show'); // show bootstrap modal when complete loaded             // Set title to Bootstrap modal title            $('#photo-preview').show(); // show photo preview modal            if(data.image_name)            {                $('#label-photo').text('Change Photo'); // label photo upload                $('#photo-preview div').html('<img src="'+base_url+'assets/slide/'+data.image_name+'" class="img-responsive">'); // show photo                $('#photo-preview div').append('<input type="checkbox" name="remove_photo" value="'+data.image_name+'"/> Remove photo when saving'); // remove photo            }            else            {                $('#label-photo').text('Upload Photo'); // label photo upload                $('#photo-preview div').text('(No photo)');            }        },        error: function (jqXHR, textStatus, errorThrown)        {            alert('Error get data from ajax');        }    });}function reload_table(){    table.ajax.reload(null,false); //reload datatable ajax }function save(){    $('#btnSave').text('saving...'); //change button text    $('#btnSave').attr('disabled',true); //set button disable     var url;        url = "<?php echo site_url('admin/gallery_update')?>";    // ajax adding data to database    var formData = new FormData($('#form')[0]);    $.ajax({        url : url,        type: "POST",        data: formData,        contentType: false,        processData: false,        dataType: "JSON",        success: function(data)        {            if(data.status) //if success close modal and reload ajax table            {                $('#modal_form').modal('hide');                reload_table();            }            else            {                for (var i = 0; i < data.inputerror.length; i++)                 {                    $('[name="'+data.inputerror[i]+'"]').parent().parent().addClass('has-error'); //select parent twice to select div form-group class and add has-error class                    $('[name="'+data.inputerror[i]+'"]').next().text(data.error_string[i]); //select span help-block class set text error string                }            }            $('#btnSave').text('save'); //change button text            $('#btnSave').attr('disabled',false); //set button enable         },        error: function (jqXHR, textStatus, errorThrown)        {            alert('Error adding / update data');            $('#btnSave').text('save'); //change button text            $('#btnSave').attr('disabled',false); //set button enable         }    });}function delete_gallery(id){    $.confirm({                    icon: 'glyphicon glyphicon-trash',                    title: 'Delete Data',                    theme: 'light',                    type: 'red',                    animationBounce: 2.5,                    buttons: {                          YES: function(){        // ajax delete data to database                        $.ajax({                            url : "<?php echo site_url('admin/delete_gallery')?>/"+id,                            type: "POST",                            dataType: "JSON",                            success: function(data)                            {                                //if success reload ajax table                                $('#modal_form').modal('hide');                                reload_table();                            },                            error: function (jqXHR, textStatus, errorThrown)                            {                                alert('Error deleting data');                            }                        });                        $.alert('Delete!.');                    },                    NO: {                            action: function(){                            }                        }                    }                });                    }</script>